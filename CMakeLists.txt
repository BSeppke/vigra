cmake_minimum_required(VERSION 2.6)

PROJECT(vigra)
SET(vigra_version 1.6.0)

ENABLE_TESTING()

INCLUDE_DIRECTORIES(${vigra_SOURCE_DIR}/include)

SET(CMAKE_MODULE_PATH  ${CMAKE_MODULE_PATH}  ${vigra_SOURCE_DIR}/config)

IF (CMAKE_GENERATOR MATCHES "Visual Studio")
    ADD_DEFINITIONS(-D_CRT_SECURE_NO_DEPRECATE -D_SECURE_SCL=0)
    SET(CMAKE_INCLUDE_PATH ${CMAKE_INCLUDE_PATH} ${vigra_SOURCE_DIR}/include/external)
    SET(CMAKE_LIBRARY_PATH ${CMAKE_LIBRARY_PATH} ${vigra_SOURCE_DIR}/lib)
ENDIF (CMAKE_GENERATOR MATCHES "Visual Studio")

SET(TIFF_NAMES libtiff_i)
FIND_PACKAGE(TIFF)

SET(JPEG_NAMES libjpeg)
FIND_PACKAGE(JPEG)

FIND_PACKAGE(PNG)

#FIND_PACKAGE(HDF5)

#FIND_PACKAGE(FFTW)

ADD_SUBDIRECTORY(src)
ADD_SUBDIRECTORY(test)
ADD_SUBDIRECTORY(docsrc)

INSTALL(DIRECTORY ${vigra_SOURCE_DIR}/include/vigra DESTINATION include)
INSTALL(DIRECTORY ${vigra_SOURCE_DIR}/doc/vigra DESTINATION doc)

MESSAGE( STATUS "Using TIFF libraries: ${TIFF_LIBRARIES}" )
MESSAGE( STATUS "Using JPEG libraries: ${JPEG_LIBRARIES}" )
MESSAGE( STATUS "Using PNG  libraries: ${PNG_LIBRARIES}" )
MESSAGE( STATUS "Using HDF5 libraries: ${HDF5_LIBRARIES}" )
MESSAGE( STATUS "Using FFTW libraries: ${FFTW_LIBRARIES}" )
