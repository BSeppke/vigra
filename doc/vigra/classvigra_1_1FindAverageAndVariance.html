<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>vigra - FindAverageAndVariance&lt; VALUETYPE &gt; Class Template Reference</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
<link rel=stylesheet type="text/css" href="vigra_1_8_2.css">
<link rel="shortcut icon" href="vigra-icon.ico" />
<script type="text/javascript">
function toggleHiddenDocumentation( textID, toggleID, toggleMessage )
{ 
	if( document.getElementById(textID).style.display == 'none' )
    {
		document.getElementById(textID).style.display = 'block';
        document.getElementById(toggleID).innerHTML = "hide " + toggleMessage;
    }
    else
    {
		document.getElementById(textID).style.display = 'none';
        document.getElementById(toggleID).innerHTML = "show " + toggleMessage;
	}
    return false;
}
</script>
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://hci.iwr.uni-heidelberg.de/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.7.6.1 -->
</div>
<div class="contents">
<table class="main_heading">
<tr>
<td align=left>
<A HREF ="#_details" ><IMG BORDER=0 ALT="details" title="Detailed Description" SRC="documents/pfeilGross.gif"></A>
</td>
<td width="100%">FindAverageAndVariance&lt; VALUETYPE &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__InspectFunctor.html">Functors To Inspect Images</a></div>
</td>
<td align=right><a href="http://hci.iwr.uni-heidelberg.de/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif" title="VIGRA Homepage"></a></td></tr>
</table><p>

<!-- doxytag: class="vigra::FindAverageAndVariance" -->
<p>Find the average pixel value and its variance in an image or ROI.  
 <a href="classvigra_1_1FindAverageAndVariance.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="inspectimage_8hxx_source.html">vigra/inspectimage.hxx</a>&gt;</code></p>

<p><a href="classvigra_1_1FindAverageAndVariance-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef VALUETYPE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#a6d55e4278792f01590981c60ec0a1313">argument_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef VALUETYPE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#a227d9f9e0d316b5771e73c3734157fc0">first_argument_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef NumericTraits<br class="typebreak"/>
&lt; VALUETYPE &gt;::RealPromote&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#ac88690a997a2d26a4ae350b7ba894bbf">result_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#a669d316548d53121b8bba1eacb56fd6f">second_argument_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef NumericTraits<br class="typebreak"/>
&lt; VALUETYPE &gt;::RealPromote&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#a02ffbee005b7e35ced4792fbe4b14f10">value_type</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#ac88690a997a2d26a4ae350b7ba894bbf">result_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#a2cc61b4fc18a1c0ed2c2910e2c87fc6d">average</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#ab1eb6de2bf3aa228929ab4b40c73507c">count</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#a29834a18c78934cd2632081e0230b626">FindAverageAndVariance</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#a7efb8704c3fc7036ba86aa1de05be2b8">operator()</a> (<a class="el" href="classvigra_1_1FindAverageAndVariance.html#a6d55e4278792f01590981c60ec0a1313">argument_type</a> const &amp;v)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#ac4ea6193c01a67366cb3fe75223af359">operator()</a> (<a class="el" href="classvigra_1_1FindAverageAndVariance.html#a227d9f9e0d316b5771e73c3734157fc0">first_argument_type</a> const &amp;v, <a class="el" href="classvigra_1_1FindAverageAndVariance.html#a669d316548d53121b8bba1eacb56fd6f">second_argument_type</a> weight)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#aae0f4a99d761a431044e163b1008414c">operator()</a> (<a class="el" href="classvigra_1_1FindAverageAndVariance.html">FindAverageAndVariance</a> const &amp;v)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#ac88690a997a2d26a4ae350b7ba894bbf">result_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#a3611568390db60a6b592467581d58324">operator()</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#ac88690a997a2d26a4ae350b7ba894bbf">result_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#aa4e17c25b2ca584fbbbe79b8a22ae51a">variance</a> (bool unbiased=false) const </td></tr>
</table>
<hr/><a name="_details" id="details"></a><h2 class="details_section">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class VALUETYPE&gt;<br/>
class vigra::FindAverageAndVariance&lt; VALUETYPE &gt;</h3>

<p>Find the average pixel value and its variance in an image or ROI. </p>
<p>This Functor uses West's algorithm to accumulate highly accurate values for the mean and the sum of squared differences of all values seen so far (the naive incremental algorithm for the computation of the sum of squares produces large round-off errors when the mean is much larger than the standard deviation of the data.) This Functor can also be used in conjunction with <a class="el" href="classvigra_1_1ArrayOfRegionStatistics.html">ArrayOfRegionStatistics</a> to find the statistics of all regions in a labeled image.</p>
<p><b> Traits defined:</b></p>
<p><code>FunctorTraits::isUnaryAnalyser</code> and <code>FunctorTraits::isInitializer</code> are true (<code>VigraTrueType</code>)</p>
<p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="inspectimage_8hxx_source.html">vigra/inspectimage.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><pre class="fragment">    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::BImage</a> img;

    <a class="code" href="classvigra_1_1FindAverageAndVariance.html" title="Find the average pixel value and its variance in an image or ROI.">vigra::FindAverageAndVariance&lt;vigra::BImage::PixelType&gt;</a> averageAndVariance;   <span class="comment">// init functor</span>

    <a class="code" href="group__InspectAlgo.html#gaa055bcaf71c209fdeb006fe3e44b0452" title="Apply read-only functor to every pixel in the image.">vigra::inspectImage</a>(srcImageRange(img), averageAndVariance);

    cout &lt;&lt; <span class="stringliteral">&quot;Average: &quot;</span> &lt;&lt; averageAndVariance.<a class="code" href="classvigra_1_1FindAverageAndVariance.html#a2cc61b4fc18a1c0ed2c2910e2c87fc6d">average</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
    cout &lt;&lt; <span class="stringliteral">&quot;Standard deviation: &quot;</span> &lt;&lt; <a class="code" href="group__FixedPointOperations.html#ga22d75753836176f3d172f58be11ecc4c" title="square root.">sqrt</a>(averageAndVariance.<a class="code" href="classvigra_1_1FindAverageAndVariance.html#aa4e17c25b2ca584fbbbe79b8a22ae51a">variance</a>()) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
</pre></div><p><b> Required Interface:</b></p>
<div class="fragment"><pre class="fragment">    VALUETYPE v1, v2(v1);
    <span class="keywordtype">double</span> d;

    v1 += v2;
    v1 + v2;
    v1 - v2;
    v1 * v2;
    v1 / d;
    d * v1;
</pre></div> </div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a6d55e4278792f01590981c60ec0a1313"></a><!-- doxytag: member="vigra::FindAverageAndVariance::argument_type" ref="a6d55e4278792f01590981c60ec0a1313" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef VALUETYPE <a class="el" href="classvigra_1_1FindAverageAndVariance.html#a6d55e4278792f01590981c60ec0a1313">argument_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the functor's argument type </p>

</div>
</div>
<a class="anchor" id="a227d9f9e0d316b5771e73c3734157fc0"></a><!-- doxytag: member="vigra::FindAverageAndVariance::first_argument_type" ref="a227d9f9e0d316b5771e73c3734157fc0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef VALUETYPE <a class="el" href="classvigra_1_1FindAverageAndVariance.html#a227d9f9e0d316b5771e73c3734157fc0">first_argument_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the functor's first argument type (for calls with a weight) </p>

</div>
</div>
<a class="anchor" id="a669d316548d53121b8bba1eacb56fd6f"></a><!-- doxytag: member="vigra::FindAverageAndVariance::second_argument_type" ref="a669d316548d53121b8bba1eacb56fd6f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef double <a class="el" href="classvigra_1_1FindAverageAndVariance.html#a669d316548d53121b8bba1eacb56fd6f">second_argument_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the functor's second argument type (for calls with a weight) </p>

</div>
</div>
<a class="anchor" id="ac88690a997a2d26a4ae350b7ba894bbf"></a><!-- doxytag: member="vigra::FindAverageAndVariance::result_type" ref="ac88690a997a2d26a4ae350b7ba894bbf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef NumericTraits&lt;VALUETYPE&gt;::RealPromote <a class="el" href="classvigra_1_1FindAverageAndVariance.html#ac88690a997a2d26a4ae350b7ba894bbf">result_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the functor's result type </p>

</div>
</div>
<a class="anchor" id="a02ffbee005b7e35ced4792fbe4b14f10"></a><!-- doxytag: member="vigra::FindAverageAndVariance::value_type" ref="a02ffbee005b7e35ced4792fbe4b14f10" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef NumericTraits&lt;VALUETYPE&gt;::RealPromote <a class="el" href="classvigra_1_1FindAverageAndVariance.html#a02ffbee005b7e35ced4792fbe4b14f10">value_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000035">Deprecated:</a></b></dt><dd>use argument_type and result_type </dd></dl>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a29834a18c78934cd2632081e0230b626"></a><!-- doxytag: member="vigra::FindAverageAndVariance::FindAverageAndVariance" ref="a29834a18c78934cd2632081e0230b626" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1FindAverageAndVariance.html">FindAverageAndVariance</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>init average </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad20897c5c8bd47f5d4005989bead0e55"></a><!-- doxytag: member="vigra::FindAverageAndVariance::reset" ref="ad20897c5c8bd47f5d4005989bead0e55" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvigra_1_1FindAverageAndVariance.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>(re-)init average and variance </p>

</div>
</div>
<a class="anchor" id="a7efb8704c3fc7036ba86aa1de05be2b8"></a><!-- doxytag: member="vigra::FindAverageAndVariance::operator()" ref="a7efb8704c3fc7036ba86aa1de05be2b8" args="(argument_type const &amp;v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator() </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#a6d55e4278792f01590981c60ec0a1313">argument_type</a> const &amp;&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>update average and variance </p>

</div>
</div>
<a class="anchor" id="ac4ea6193c01a67366cb3fe75223af359"></a><!-- doxytag: member="vigra::FindAverageAndVariance::operator()" ref="ac4ea6193c01a67366cb3fe75223af359" args="(first_argument_type const &amp;v, second_argument_type weight)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator() </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#a227d9f9e0d316b5771e73c3734157fc0">first_argument_type</a> const &amp;&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#a669d316548d53121b8bba1eacb56fd6f">second_argument_type</a>&#160;</td>
          <td class="paramname"><em>weight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>update average and variance, using weighted input. <code>stats(value, 1.0)</code> is equivalent to the unweighted call <code>stats(value)</code>, and <code>stats(value, 2.0)</code> is equivalent to two unweighted calls. </p>

</div>
</div>
<a class="anchor" id="aae0f4a99d761a431044e163b1008414c"></a><!-- doxytag: member="vigra::FindAverageAndVariance::operator()" ref="aae0f4a99d761a431044e163b1008414c" args="(FindAverageAndVariance const &amp;v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator() </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvigra_1_1FindAverageAndVariance.html">FindAverageAndVariance</a>&lt; VALUETYPE &gt; const &amp;&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>merge two statistics </p>

</div>
</div>
<a class="anchor" id="ab1eb6de2bf3aa228929ab4b40c73507c"></a><!-- doxytag: member="vigra::FindAverageAndVariance::count" ref="ab1eb6de2bf3aa228929ab4b40c73507c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classvigra_1_1FindAverageAndVariance.html#ab1eb6de2bf3aa228929ab4b40c73507c">count</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>return number of values (sum of weights) seen so far </p>

</div>
</div>
<a class="anchor" id="a2cc61b4fc18a1c0ed2c2910e2c87fc6d"></a><!-- doxytag: member="vigra::FindAverageAndVariance::average" ref="a2cc61b4fc18a1c0ed2c2910e2c87fc6d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#ac88690a997a2d26a4ae350b7ba894bbf">result_type</a> <a class="el" href="classvigra_1_1FindAverageAndVariance.html#a2cc61b4fc18a1c0ed2c2910e2c87fc6d">average</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>return current average </p>

</div>
</div>
<a class="anchor" id="aa4e17c25b2ca584fbbbe79b8a22ae51a"></a><!-- doxytag: member="vigra::FindAverageAndVariance::variance" ref="aa4e17c25b2ca584fbbbe79b8a22ae51a" args="(bool unbiased=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#ac88690a997a2d26a4ae350b7ba894bbf">result_type</a> <a class="el" href="classvigra_1_1FindAverageAndVariance.html#aa4e17c25b2ca584fbbbe79b8a22ae51a">variance</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>unbiased</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>return current variance. If <code>unbiased = true</code>, the sum of squared differences is divided by <code><a class="el" href="classvigra_1_1FindAverageAndVariance.html#ab1eb6de2bf3aa228929ab4b40c73507c">count()</a>-1</code> instead of just <code><a class="el" href="classvigra_1_1FindAverageAndVariance.html#ab1eb6de2bf3aa228929ab4b40c73507c">count()</a></code>. </p>

</div>
</div>
<a class="anchor" id="a3611568390db60a6b592467581d58324"></a><!-- doxytag: member="vigra::FindAverageAndVariance::operator()" ref="a3611568390db60a6b592467581d58324" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#ac88690a997a2d26a4ae350b7ba894bbf">result_type</a> operator() </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>return current variance. calls <code><a class="el" href="classvigra_1_1FindAverageAndVariance.html#aa4e17c25b2ca584fbbbe79b8a22ae51a">variance()</a></code>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>vigra/<a class="el" href="inspectimage_8hxx_source.html">inspectimage.hxx</a></li>
</ul>
</div><!-- contents -->
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
vigra 1.9.1 (Thu Sep 5 2013)
</i>
</tr>
</table>


</BODY>
</HTML>
