<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>vigra - Import/export of the TIFF format</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
<link rel=stylesheet type="text/css" href="vigra_1_8_2.css">
<link rel="shortcut icon" href="vigra-icon.ico" />
<script type="text/javascript">
function toggleHiddenDocumentation( textID, toggleID, toggleMessage )
{ 
	if( document.getElementById(textID).style.display == 'none' )
    {
		document.getElementById(textID).style.display = 'block';
        document.getElementById(toggleID).innerHTML = "hide " + toggleMessage;
    }
    else
    {
		document.getElementById(textID).style.display = 'none';
        document.getElementById(toggleID).innerHTML = "show " + toggleMessage;
	}
    return false;
}
</script>
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://hci.iwr.uni-heidelberg.de/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.7.6.1 -->
</div>
<div class="contents">
<table class="main_heading">
<tr>
<td align=left>
<A HREF ="#_details" ><IMG BORDER=0 ALT="details" title="Detailed Description" SRC="documents/pfeilGross.gif"></A>
</td>
<td width="100%">Import/export of the TIFF format
</td>
<td align=right><a href="http://hci.iwr.uni-heidelberg.de/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif" title="VIGRA Homepage"></a></td></tr>
</table><p>

<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__TIFFImpex.html#ga3eaac7e2a4200b63f2dcb31034a98f39">createRGBTiffImage</a> (...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a 3-band TiffImage from the given RGB image.  <a href="#ga3eaac7e2a4200b63f2dcb31034a98f39"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__TIFFImpex.html#ga5304acecf03804f7c0864fc5fe1e87bf">createScalarTiffImage</a> (...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a single-band TiffImage from the given scalar image.  <a href="#ga5304acecf03804f7c0864fc5fe1e87bf"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__TIFFImpex.html#gae4dcba2a7ce002811d26440a6985a6f2">createTiffImage</a> (...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a TiffImage from the given iterator range.  <a href="#gae4dcba2a7ce002811d26440a6985a6f2"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__TIFFImpex.html#gaeab1bcb8f4a3e708b4a54a6e52cb43ff">importTiffImage</a> (...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a given TIFF image.  <a href="#gaeab1bcb8f4a3e708b4a54a6e52cb43ff"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__TIFFImpex.html#ga098bce6a0f789bae2b026745a55a9ef2">tiffToRGBImage</a> (...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Import a RGB (3-band or color-mapped) TiffImage into a RGB image.  <a href="#ga098bce6a0f789bae2b026745a55a9ef2"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__TIFFImpex.html#ga3b11b4794c6a24de19dc1dbb5e2f8cb8">tiffToScalarImage</a> (...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert single-band TiffImage to scalar image.  <a href="#ga3b11b4794c6a24de19dc1dbb5e2f8cb8"></a><br/></td></tr>
</table>
<hr/><a name="_details" id="details"></a><h2 class="details_section">Detailed Description</h2>
<p>TIFF conversion and file export/import.</p>
<p>Normally, you need not call the TIFF functions directly. They are available much more conveniently via <a class="el" href="group__VigraImpex.html#ga01aca6d5278dab14e11aef62e746e63e">importImage()</a> and <a class="el" href="group__VigraImpex.html#gabd7976d498abce467cd17989176133e3">exportImage()</a></p>
<p>TIFF (Tagged Image File Format) is a very versatile image format - one can store different pixel types (byte, integer, float, double) and color models (black and white, RGB, mapped RGB, other color systems). For more details and information on how to create a TIFF image, refer to the TIFF documentation at <a href="http://www.libtiff.org/">http://www.libtiff.org/</a> for details. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gaeab1bcb8f4a3e708b4a54a6e52cb43ff"></a><!-- doxytag: member="vigra::importTiffImage" ref="gaeab1bcb8f4a3e708b4a54a6e52cb43ff" args="(...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__TIFFImpex.html#gaeab1bcb8f4a3e708b4a54a6e52cb43ff">vigra::importTiffImage</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a given TIFF image. </p>
<p>This function calls <a class="el" href="group__TIFFImpex.html#ga3b11b4794c6a24de19dc1dbb5e2f8cb8">tiffToScalarImage()</a> or <a class="el" href="group__TIFFImpex.html#ga098bce6a0f789bae2b026745a55a9ef2">tiffToRGBImage()</a>, depending on the destinations's value_type. Usually, it is better to use <a class="el" href="group__VigraImpex.html#ga01aca6d5278dab14e11aef62e746e63e">importImage()</a>. <a class="el" href="group__TIFFImpex.html#gaeab1bcb8f4a3e708b4a54a6e52cb43ff" title="Read a given TIFF image.">importTiffImage()</a> should only be used if explicit access to the TIFF object <code>TiffImage</code> is required.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> S&gt;
        <span class="keywordtype">void</span>
        <a class="code" href="group__TIFFImpex.html#gaeab1bcb8f4a3e708b4a54a6e52cb43ff" title="Read a given TIFF image.">importTiffImage</a>(TiffImage * tiff, MultiArrayView&lt;2, T, S&gt; dest);
    }
</pre></div><p><a href="#" id="importTiffImage_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;importTiffImage_OldAPI&apos;, &apos;importTiffImage_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="importTiffImage_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> ImageIterator, <span class="keyword">class</span> Accessor&gt;
        <span class="keywordtype">void</span>
        <a class="code" href="group__TIFFImpex.html#gaeab1bcb8f4a3e708b4a54a6e52cb43ff" title="Read a given TIFF image.">importTiffImage</a>(TiffImage * tiff, ImageIterator iter, Accessor a)
    }
</pre></div><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> ImageIterator, <span class="keyword">class</span> Accessor&gt;
        <span class="keywordtype">void</span>
        <a class="code" href="group__TIFFImpex.html#gaeab1bcb8f4a3e708b4a54a6e52cb43ff" title="Read a given TIFF image.">importTiffImage</a>(TiffImage * tiff, pair&lt;ImageIterator, Accessor&gt; dest)
    }
</pre></div> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="tiff_8hxx_source.html">vigra/tiff.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><pre class="fragment">    uint32 w, h;
    TiffImage * tiff = TIFFOpen(<span class="stringliteral">&quot;tiffimage.tiff&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);
    TIFFGetField(tiff, TIFFTAG_IMAGEWIDTH, &amp;w);
    TIFFGetField(tiff, TIFFTAG_IMAGELENGTH, &amp;h);
    
    MultiArray&lt;2, unsigned char&gt; img(w,h);
    
    <a class="code" href="group__TIFFImpex.html#gaeab1bcb8f4a3e708b4a54a6e52cb43ff" title="Read a given TIFF image.">importTiffImage</a>(tiff, img);
    
    TIFFClose(tiff);
</pre></div><p><b> Required Interface:</b></p>
<p>see <a class="el" href="group__TIFFImpex.html#ga3b11b4794c6a24de19dc1dbb5e2f8cb8">tiffToScalarImage()</a> and <a class="el" href="group__TIFFImpex.html#ga098bce6a0f789bae2b026745a55a9ef2">tiffToRGBImage()</a></p>
<p><b> Preconditions:</b></p>
<p>see <a class="el" href="group__TIFFImpex.html#ga3b11b4794c6a24de19dc1dbb5e2f8cb8">tiffToScalarImage()</a> and <a class="el" href="group__TIFFImpex.html#ga098bce6a0f789bae2b026745a55a9ef2">tiffToRGBImage()</a> </p>

</div>
</div>
<a class="anchor" id="ga3b11b4794c6a24de19dc1dbb5e2f8cb8"></a><!-- doxytag: member="vigra::tiffToScalarImage" ref="ga3b11b4794c6a24de19dc1dbb5e2f8cb8" args="(...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__TIFFImpex.html#ga3b11b4794c6a24de19dc1dbb5e2f8cb8">vigra::tiffToScalarImage</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert single-band TiffImage to scalar image. </p>
<p>Note that unexpected results can occur when the destination pixel type is weaker than the pixel type in the file (e.g. when a <code>float</code> file is imported into a <code>unsigned char</code> image).</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> ImageIterator, <span class="keyword">class</span> Accessor&gt;
        <span class="keywordtype">void</span>
        <a class="code" href="group__TIFFImpex.html#ga3b11b4794c6a24de19dc1dbb5e2f8cb8" title="Convert single-band TiffImage to scalar image.">tiffToScalarImage</a>(TiffImage * tiff, ImageIterator iter, Accessor a)
    }
</pre></div><p><a href="#" id="tiffToScalarImage_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;tiffToScalarImage_OldAPI&apos;, &apos;tiffToScalarImage_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="tiffToScalarImage_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> ImageIterator, <span class="keyword">class</span> Accessor&gt;
        <span class="keywordtype">void</span>
        <a class="code" href="group__TIFFImpex.html#ga3b11b4794c6a24de19dc1dbb5e2f8cb8" title="Convert single-band TiffImage to scalar image.">tiffToScalarImage</a>(TiffImage * tiff, ImageIterator iter, Accessor a)
    }
</pre></div><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> ImageIterator, <span class="keyword">class</span> Accessor&gt;
        <span class="keywordtype">void</span>
        <a class="code" href="group__TIFFImpex.html#ga3b11b4794c6a24de19dc1dbb5e2f8cb8" title="Convert single-band TiffImage to scalar image.">tiffToScalarImage</a>(TiffImage * tiff, pair&lt;ImageIterator, Accessor&gt; dest)
    }
</pre></div> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="tiff_8hxx_source.html">vigra/tiff.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><pre class="fragment">    uint32 w, h;
    uint16 photometric;
    TiffImage * tiff = TIFFOpen(<span class="stringliteral">&quot;tiffimage.tiff&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);
    TIFFGetField(tiff, TIFFTAG_IMAGEWIDTH, &amp;w);
    TIFFGetField(tiff, TIFFTAG_IMAGELENGTH, &amp;h);
    TIFFGetField(tiff_, TIFFTAG_PHOTOMETRIC, &amp;photometric);
        
    <span class="keywordflow">if</span>(photometric != PHOTOMETRIC_MINISWHITE &amp;&amp;
       photometric != PHOTOMETRIC_MINISBLACK)
    {
        <span class="comment">// not a scalar image - handle error</span>
    }
    
    MultiArray&lt;2, unsigned char&gt; img(w,h);
    
    <a class="code" href="group__TIFFImpex.html#ga3b11b4794c6a24de19dc1dbb5e2f8cb8" title="Convert single-band TiffImage to scalar image.">tiffToScalarImage</a>(tiff, img);
    
    TIFFClose(tiff);
</pre></div><p><a href="#" id="tiffToScalarImage_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;tiffToScalarImage_OldUsage&apos;, &apos;tiffToScalarImage_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="tiffToScalarImage_OldUsage" style="display:none"> <div class="fragment"><pre class="fragment">    uint32 w, h;
    uint16 photometric;
    
    TiffImage * tiff = TIFFOpen(<span class="stringliteral">&quot;tiffimage.tiff&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);
    TIFFGetField(tiff, TIFFTAG_IMAGEWIDTH, &amp;w);
    TIFFGetField(tiff, TIFFTAG_IMAGELENGTH, &amp;h);
    TIFFGetField(tiff_, TIFFTAG_PHOTOMETRIC, &amp;photometric);
        
    <span class="keywordflow">if</span>(photometric != PHOTOMETRIC_MINISWHITE &amp;&amp;
       photometric != PHOTOMETRIC_MINISBLACK)
    {
        <span class="comment">// not a scalar image - handle error</span>
    }
    
    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::BImage</a> img(w,h);
    
    <a class="code" href="group__TIFFImpex.html#ga3b11b4794c6a24de19dc1dbb5e2f8cb8" title="Convert single-band TiffImage to scalar image.">vigra::tiffToScalarImage</a>(tiff, destImage(img));
    
    TIFFClose(tiff);
</pre></div><p> <b> Required Interface:</b> </p>
<div class="fragment"><pre class="fragment">    ImageIterator upperleft;
    &lt;<span class="keywordtype">unsigned</span> char, short, long, float, <span class="keywordtype">double</span>&gt; value;
    
    Accessor accessor;
               
    accessor.set(value, upperleft);
</pre></div> </div><p><b> Preconditions:</b></p>
<p>The output array must have the correct shape.</p>
<div class="fragment"><pre class="fragment">    uint16 sampleFormat, samplesPerPixel, bitsPerSample, photometric;
           
    TIFFGetField(tiff, TIFFTAG_SAMPLEFORMAT, &amp;sampleFormat);
    TIFFGetField(tiff, TIFFTAG_SAMPLESPERPIXEL, &amp;samplesPerPixel);
    TIFFGetField(tiff, TIFFTAG_BITSPERSAMPLE, &amp;bitsPerSample);
    TIFFGetField(tiff, TIFFTAG_PHOTOMETRIC, &amp;photometric);

    sampleFormat != SAMPLEFORMAT_VOID
    samplesPerPixel == 1
    photometric == PHOTOMETRIC_MINISWHITE || photometric == PHOTOMETRIC_MINISBLACK
    bitsPerSample == 1 || 
       bitsPerSample == 8 || 
       bitsPerSample == 16 || 
       bitsPerSample == 32 || 
       bitsPerSample == 64
</pre></div> 
</div>
</div>
<a class="anchor" id="ga098bce6a0f789bae2b026745a55a9ef2"></a><!-- doxytag: member="vigra::tiffToRGBImage" ref="ga098bce6a0f789bae2b026745a55a9ef2" args="(...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__TIFFImpex.html#ga098bce6a0f789bae2b026745a55a9ef2">vigra::tiffToRGBImage</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Import a RGB (3-band or color-mapped) TiffImage into a RGB image. </p>
<p>Note that unexpected results can occur when the destination pixel type is weaker than the pixel type in the file (e.g. when a <code>float</code> file is imported into a <code>unsigned char</code> image).</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> RGBImageIterator, <span class="keyword">class</span> RGBAccessor&gt;
        <span class="keywordtype">void</span>
        <a class="code" href="group__TIFFImpex.html#ga098bce6a0f789bae2b026745a55a9ef2" title="Import a RGB (3-band or color-mapped) TiffImage into a RGB image.">tiffToRGBImage</a>(TiffImage * tiff, RGBImageIterator iter, RGBAccessor a)
    }
</pre></div><p><a href="#" id="tiffToRGBImage_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;tiffToRGBImage_OldAPI&apos;, &apos;tiffToRGBImage_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="tiffToRGBImage_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> RGBImageIterator, <span class="keyword">class</span> RGBAccessor&gt;
        <span class="keywordtype">void</span>
        <a class="code" href="group__TIFFImpex.html#ga098bce6a0f789bae2b026745a55a9ef2" title="Import a RGB (3-band or color-mapped) TiffImage into a RGB image.">tiffToRGBImage</a>(TiffImage * tiff, RGBImageIterator iter, RGBAccessor a)
    }
</pre></div><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> RGBImageIterator, <span class="keyword">class</span> RGBAccessor&gt;
        <span class="keywordtype">void</span>
        <a class="code" href="group__TIFFImpex.html#ga098bce6a0f789bae2b026745a55a9ef2" title="Import a RGB (3-band or color-mapped) TiffImage into a RGB image.">tiffToRGBImage</a>(TiffImage * tiff, pair&lt;RGBImageIterator, RGBAccessor&gt; dest)
    }
</pre></div> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="tiff_8hxx_source.html">vigra/tiff.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><pre class="fragment">    uint32 w, h;
    uint16 photometric
    TiffImage * tiff = TIFFOpen(<span class="stringliteral">&quot;tiffimage.tiff&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);
    TIFFGetField(tiff, TIFFTAG_IMAGEWIDTH, &amp;w);
    TIFFGetField(tiff, TIFFTAG_IMAGELENGTH, &amp;h);
    TIFFGetField(tiff_, TIFFTAG_PHOTOMETRIC, &amp;photometric);
        
    <span class="keywordflow">if</span>(photometric != PHOTOMETRIC_RGB &amp;&amp;
       photometric != PHOTOMETRIC_PALETTE)
    {
        <span class="comment">// not an RGB image - handle error</span>
    }
    
    MultiArray&lt;2, RGBValue&lt;unsigned char&gt; &gt; img(w, h);
    
    <a class="code" href="group__TIFFImpex.html#ga098bce6a0f789bae2b026745a55a9ef2" title="Import a RGB (3-band or color-mapped) TiffImage into a RGB image.">tiffToRGBImage</a>(tiff, img);
    
    TIFFClose(tiff);
</pre></div><p><a href="#" id="tiffToRGBImage_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;tiffToRGBImage_OldUsage&apos;, &apos;tiffToRGBImage_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="tiffToRGBImage_OldUsage" style="display:none"> <div class="fragment"><pre class="fragment">    uint32 w, h;
    uint16 photometric
    TiffImage * tiff = TIFFOpen(<span class="stringliteral">&quot;tiffimage.tiff&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);
    TIFFGetField(tiff, TIFFTAG_IMAGEWIDTH, &amp;w);
    TIFFGetField(tiff, TIFFTAG_IMAGELENGTH, &amp;h);
    TIFFGetField(tiff_, TIFFTAG_PHOTOMETRIC, &amp;photometric);
        
    <span class="keywordflow">if</span>(photometric != PHOTOMETRIC_RGB &amp;&amp;
       photometric != PHOTOMETRIC_PALETTE)
    {
        <span class="comment">// not an RGB image - handle error</span>
    }
    
    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::BRGBImage</a> img(w, h);
    
    <a class="code" href="group__TIFFImpex.html#ga098bce6a0f789bae2b026745a55a9ef2" title="Import a RGB (3-band or color-mapped) TiffImage into a RGB image.">vigra::tiffToRGBImage</a>(tiff, destImage(img));
    
    TIFFClose(tiff);
</pre></div><p> <b> Required Interface:</b> </p>
<div class="fragment"><pre class="fragment">    ImageIterator upperleft;
    &lt;<span class="keywordtype">unsigned</span> char, short, long, float, <span class="keywordtype">double</span>&gt; rvalue, gvalue, bvalue;
    
    RGBAccessor accessor;
                           
    accessor.setRed(rvalue, upperleft);
    accessor.setGreen(gvalue, upperleft);
    accessor.setBlue(bvalue, upperleft);
</pre></div> </div><p><b> Preconditions:</b></p>
<p>The destination image must have the appropriate size.</p>
<div class="fragment"><pre class="fragment">    uint16 sampleFormat, samplesPerPixel, bitsPerSample, photometric;
           
    TIFFGetField(tiff, TIFFTAG_SAMPLEFORMAT, &amp;sampleFormat);
    TIFFGetField(tiff, TIFFTAG_SAMPLESPERPIXEL, &amp;samplesPerPixel);
    TIFFGetField(tiff, TIFFTAG_BITSPERSAMPLE, &amp;bitsPerSample);
    TIFFGetField(tiff, TIFFTAG_PHOTOMETRIC, &amp;photometric);

    sampleFormat != SAMPLEFORMAT_VOID
    samplesPerPixel == 3 <span class="comment">// unless photometric == PHOTOMETRIC_PALETTE</span>
    photometric == PHOTOMETRIC_RGB ||
       photometric == PHOTOMETRIC_PALETTE
    bitsPerSample == 1 || 
       bitsPerSample == 8 || 
       bitsPerSample == 16 || 
       bitsPerSample == 32 || 
       bitsPerSample == 64
</pre></div> 
</div>
</div>
<a class="anchor" id="gae4dcba2a7ce002811d26440a6985a6f2"></a><!-- doxytag: member="vigra::createTiffImage" ref="gae4dcba2a7ce002811d26440a6985a6f2" args="(...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__TIFFImpex.html#gae4dcba2a7ce002811d26440a6985a6f2">vigra::createTiffImage</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a TiffImage from the given iterator range. </p>
<p>Type and size of the TiffImage are determined by the input image. Currently, the function can create scalar images and RGB images of type unsigned char, short, int, float, and double.</p>
<p>Usually, it is better to use <a class="el" href="group__VigraImpex.html#gabd7976d498abce467cd17989176133e3">exportImage()</a>. <a class="el" href="group__TIFFImpex.html#gae4dcba2a7ce002811d26440a6985a6f2" title="Create a TiffImage from the given iterator range.">createTiffImage()</a> should only be used if explicit access to the TIFF object <code>TiffImage</code> is required.</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> S&gt;
        <span class="keywordtype">void</span>
        <a class="code" href="group__TIFFImpex.html#gae4dcba2a7ce002811d26440a6985a6f2" title="Create a TiffImage from the given iterator range.">createTiffImage</a>(MultiArrayView&lt;2, T, S&gt; <span class="keyword">const</span> &amp; src, TiffImage * tiff);
    }
</pre></div><p><a href="#" id="createTiffImage_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;createTiffImage_OldAPI&apos;, &apos;createTiffImage_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="createTiffImage_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> ImageIterator, <span class="keyword">class</span> Accessor&gt;
        TiffImage *
        <a class="code" href="group__TIFFImpex.html#gae4dcba2a7ce002811d26440a6985a6f2" title="Create a TiffImage from the given iterator range.">createTiffImage</a>(ImageIterator upperleft, ImageIterator lowerright, 
                        Accessor a)
    }
</pre></div><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> ImageIterator, <span class="keyword">class</span> Accessor&gt;
        TiffImage *
        <a class="code" href="group__TIFFImpex.html#gae4dcba2a7ce002811d26440a6985a6f2" title="Create a TiffImage from the given iterator range.">createTiffImage</a>(triple&lt;ImageIterator, ImageIterator, Accessor&gt; src)
    }
</pre></div> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="tiff_8hxx_source.html">vigra/tiff.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><pre class="fragment">    MultiArray&lt;2, float&gt; img(width, height);
    
    ...
    
    TiffImage * tiff = TIFFOpen((<span class="stringliteral">&quot;tiffimage.tiff&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>);

    <a class="code" href="group__TIFFImpex.html#gae4dcba2a7ce002811d26440a6985a6f2" title="Create a TiffImage from the given iterator range.">createTiffImage</a>(img, tiff);

    TIFFClose(tiff);   <span class="comment">// implicitly writes the image to the disk</span>
</pre></div><p><a href="#" id="createTiffImage_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;createTiffImage_OldUsage&apos;, &apos;createTiffImage_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="createTiffImage_OldUsage" style="display:none"> <div class="fragment"><pre class="fragment">    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::BImage</a> img(width, height);
    
    ...
    
    TiffImage * tiff = TIFFOpen((<span class="stringliteral">&quot;tiffimage.tiff&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>);

    <a class="code" href="group__TIFFImpex.html#gae4dcba2a7ce002811d26440a6985a6f2" title="Create a TiffImage from the given iterator range.">vigra::createTiffImage</a>(srcImageRange(img), tiff);

    TIFFClose(tiff);   <span class="comment">// implicitly writes the image to the disk</span>
</pre></div><p> <b> Required Interface:</b> </p>
<div class="fragment"><pre class="fragment">    ImageIterator upperleft;
    Accessor accessor;
                           
    accessor(upperleft);   <span class="comment">// result written into TiffImage</span>
</pre></div> </div> 
</div>
</div>
<a class="anchor" id="ga5304acecf03804f7c0864fc5fe1e87bf"></a><!-- doxytag: member="vigra::createScalarTiffImage" ref="ga5304acecf03804f7c0864fc5fe1e87bf" args="(...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__TIFFImpex.html#ga5304acecf03804f7c0864fc5fe1e87bf">vigra::createScalarTiffImage</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a single-band TiffImage from the given scalar image. </p>
<p>Type and size of the TiffImage are determined by the input image (may be one of unsigned char, short, int, float, or double).</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> ImageIterator, <span class="keyword">class</span> Accessor&gt;
        TiffImage *
        <a class="code" href="group__TIFFImpex.html#ga5304acecf03804f7c0864fc5fe1e87bf" title="Create a single-band TiffImage from the given scalar image.">createScalarTiffImage</a>(ImageIterator upperleft, ImageIterator lowerright, 
                  Accessor a)
    }
</pre></div><p><a href="#" id="createScalarTiffImage_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;createScalarTiffImage_OldAPI&apos;, &apos;createScalarTiffImage_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="createScalarTiffImage_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> ImageIterator, <span class="keyword">class</span> Accessor&gt;
        TiffImage *
        <a class="code" href="group__TIFFImpex.html#ga5304acecf03804f7c0864fc5fe1e87bf" title="Create a single-band TiffImage from the given scalar image.">createScalarTiffImage</a>(ImageIterator upperleft, ImageIterator lowerright, 
                  Accessor a)
    }
</pre></div><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> ImageIterator, <span class="keyword">class</span> Accessor&gt;
        TiffImage *
        <a class="code" href="group__TIFFImpex.html#ga5304acecf03804f7c0864fc5fe1e87bf" title="Create a single-band TiffImage from the given scalar image.">createScalarTiffImage</a>(triple&lt;ImageIterator, ImageIterator, Accessor&gt; src)
    }
</pre></div> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="tiff_8hxx_source.html">vigra/tiff.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><pre class="fragment">    MultiArray&lt;2, float&gt; img(width, height);
    ...
   
    TiffImage * tiff = TIFFOpen((<span class="stringliteral">&quot;tiffimage.tiff&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>);

    <a class="code" href="group__TIFFImpex.html#ga5304acecf03804f7c0864fc5fe1e87bf" title="Create a single-band TiffImage from the given scalar image.">createScalarTiffImage</a>(img, tiff);

    TIFFClose(tiff);   <span class="comment">// implicitly writes the image to the disk</span>
</pre></div><p><a href="#" id="createScalarTiffImage_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;createScalarTiffImage_OldUsage&apos;, &apos;createScalarTiffImage_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="createScalarTiffImage_OldUsage" style="display:none"> <div class="fragment"><pre class="fragment">    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::BImage</a> img(width, height);
    ...
    
    TiffImage * tiff = TIFFOpen((<span class="stringliteral">&quot;tiffimage.tiff&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>);

    <a class="code" href="group__TIFFImpex.html#ga5304acecf03804f7c0864fc5fe1e87bf" title="Create a single-band TiffImage from the given scalar image.">vigra::createScalarTiffImage</a>(srcImageRange(img), tiff);

    TIFFClose(tiff);   <span class="comment">// implicitly writes the image to the disk</span>
</pre></div><p> <b> Required Interface:</b> </p>
<div class="fragment"><pre class="fragment">    ImageIterator upperleft;
    Accessor accessor;
                           
    accessor(upperleft);   <span class="comment">// result written into TiffImage</span>
</pre></div> </div> 
</div>
</div>
<a class="anchor" id="ga3eaac7e2a4200b63f2dcb31034a98f39"></a><!-- doxytag: member="vigra::createRGBTiffImage" ref="ga3eaac7e2a4200b63f2dcb31034a98f39" args="(...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__TIFFImpex.html#ga3eaac7e2a4200b63f2dcb31034a98f39">vigra::createRGBTiffImage</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a 3-band TiffImage from the given RGB image. </p>
<p>Type and size of the TiffImage are determined by the input image (may be one of unsigned char, int, float, or double).</p>
<p><b> Declarations:</b></p>
<p>pass 2D array views: </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> RGBImageIterator, <span class="keyword">class</span> RGBAccessor&gt;
        TiffImage *
        <a class="code" href="group__TIFFImpex.html#ga3eaac7e2a4200b63f2dcb31034a98f39" title="Create a 3-band TiffImage from the given RGB image.">createRGBTiffImage</a>(RGBImageIterator upperleft, RGBImageIterator lowerright,
                   RGBAccessor a)
                }
</pre></div><p><a href="#" id="createRGBTiffImage_OldAPIToggle" onclick="return toggleHiddenDocumentation(&apos;createRGBTiffImage_OldAPI&apos;, &apos;createRGBTiffImage_OldAPIToggle&apos;, &apos;deprecated declarations&apos;);">show deprecated declarations</a></p>
<div id="createRGBTiffImage_OldAPI" style="display:none"> pass <a class="el" href="group__ImageIterators.html">Image Iterators</a> and <a class="el" href="group__DataAccessors.html">Data Accessors</a> : </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> RGBImageIterator, <span class="keyword">class</span> RGBAccessor&gt;
        TiffImage *
        <a class="code" href="group__TIFFImpex.html#ga3eaac7e2a4200b63f2dcb31034a98f39" title="Create a 3-band TiffImage from the given RGB image.">createRGBTiffImage</a>(RGBImageIterator upperleft, RGBImageIterator lowerright,
                   RGBAccessor a)
                }
</pre></div><p> use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : </p>
<div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class</span> RGBImageIterator, <span class="keyword">class</span> RGBAccessor&gt;
        TiffImage *
        <a class="code" href="group__TIFFImpex.html#ga3eaac7e2a4200b63f2dcb31034a98f39" title="Create a 3-band TiffImage from the given RGB image.">createRGBTiffImage</a>(triple&lt;RGBImageIterator, RGBImageIterator, RGBAccessor&gt; src)
    }
</pre></div> </div><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="tiff_8hxx_source.html">vigra/tiff.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><pre class="fragment">    MultiArray&lt;2, RGBValue&lt;unsigned char&gt; &gt; img(width, height);
    ...
    
    TiffImage * tiff = TIFFOpen((<span class="stringliteral">&quot;tiffimage.tiff&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>);

    <a class="code" href="group__TIFFImpex.html#ga3eaac7e2a4200b63f2dcb31034a98f39" title="Create a 3-band TiffImage from the given RGB image.">createRGBTiffImage</a>(img, tiff);

    TIFFClose(tiff);   <span class="comment">// implicitly writes the image to the disk</span>
</pre></div><p><a href="#" id="createRGBTiffImage_OldUsageToggle" onclick="return toggleHiddenDocumentation(&apos;createRGBTiffImage_OldUsage&apos;, &apos;createRGBTiffImage_OldUsageToggle&apos;, &apos;deprecated examples&apos;);">show deprecated examples</a></p>
<div id="createRGBTiffImage_OldUsage" style="display:none"> <div class="fragment"><pre class="fragment">    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::BRGBImage</a> img(width, height);
    ...
    
    TiffImage * tiff = TIFFOpen((<span class="stringliteral">&quot;tiffimage.tiff&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>);

    <a class="code" href="group__TIFFImpex.html#ga3eaac7e2a4200b63f2dcb31034a98f39" title="Create a 3-band TiffImage from the given RGB image.">vigra::createRGBTiffImage</a>(srcImageRange(img), tiff);

    TIFFClose(tiff);   <span class="comment">// implicitly writes the image to the disk</span>
</pre></div><p> <b> Required Interface:</b> </p>
<div class="fragment"><pre class="fragment">    ImageIterator upperleft;
    RGBAccessor accessor;
                           
    accessor.red(upperleft);     <span class="comment">// result written into TiffImage</span>
    accessor.green(upperleft);   <span class="comment">// result written into TiffImage</span>
    accessor.blue(upperleft);    <span class="comment">// result written into TiffImage</span>
</pre></div> </div> 
</div>
</div>
</div><!-- contents -->
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
vigra 1.9.1 (Thu Sep 5 2013)
</i>
</tr>
</table>


</BODY>
</HTML>
