<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>vigra - Import/Export of Images and Arrays in HDF5 Format</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
<link rel=stylesheet type="text/css" href="vigra_1_8_2.css">
<link rel="shortcut icon" href="vigra-icon.ico" />
<script type="text/javascript">
function toggleHiddenDocumentation( textID, toggleID, toggleMessage )
{ 
	if( document.getElementById(textID).style.display == 'none' )
    {
		document.getElementById(textID).style.display = 'block';
        document.getElementById(toggleID).innerHTML = "hide " + toggleMessage;
    }
    else
    {
		document.getElementById(textID).style.display = 'none';
        document.getElementById(toggleID).innerHTML = "show " + toggleMessage;
	}
    return false;
}
</script>
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://hci.iwr.uni-heidelberg.de/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.8.3.1 -->
</div><!-- top -->
<div class="contents">
<table class="main_heading">
<tr>
<td align=left>
<A HREF ="#_details" ><IMG BORDER=0 ALT="details" title="Detailed Description" SRC="documents/pfeilGross.gif"></A>
</td>
<td width="100%">Import/Export of Images and Arrays in HDF5 Format
</td>
<td align=right><a href="http://hci.iwr.uni-heidelberg.de/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif" title="VIGRA Homepage"></a></td></tr>
</table><p>

<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1HDF5File.html">HDF5File</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access to HDF5 files.  <a href="classvigra_1_1HDF5File.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1HDF5Handle.html">HDF5Handle</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for hid_t objects.  <a href="classvigra_1_1HDF5Handle.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1HDF5ImportInfo.html">HDF5ImportInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Argument object for the function <a class="el" href="group__VigraHDF5Impex.html#ga8ccb383ad5d24064f31fab265bc07439" title="Read the data specified by the given vigra::HDF5ImportInfo object and write the into the given &#39;array...">readHDF5()</a>.  <a href="classvigra_1_1HDF5ImportInfo.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab84581fb60f16dcd7976476bfb24752c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab84581fb60f16dcd7976476bfb24752c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__VigraHDF5Impex.html#gab84581fb60f16dcd7976476bfb24752c">isHDF5</a> (char const *filename)</td></tr>
<tr class="memdesc:gab84581fb60f16dcd7976476bfb24752c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if given filename refers to a HDF5 file. <br/></td></tr>
<tr class="separator:gab84581fb60f16dcd7976476bfb24752c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ccb383ad5d24064f31fab265bc07439"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga8ccb383ad5d24064f31fab265bc07439"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__VigraHDF5Impex.html#ga8ccb383ad5d24064f31fab265bc07439">readHDF5</a> (...)</td></tr>
<tr class="memdesc:ga8ccb383ad5d24064f31fab265bc07439"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the data specified by the given <a class="el" href="classvigra_1_1HDF5ImportInfo.html">vigra::HDF5ImportInfo</a> object and write the into the given 'array'.  <a href="#ga8ccb383ad5d24064f31fab265bc07439">More...</a><br/></td></tr>
<tr class="separator:ga8ccb383ad5d24064f31fab265bc07439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e66ccacdf2a0be58e9ff2565fcc77df"><td class="memTemplParams" colspan="2">template&lt;... &gt; </td></tr>
<tr class="memitem:ga2e66ccacdf2a0be58e9ff2565fcc77df"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__VigraHDF5Impex.html#ga2e66ccacdf2a0be58e9ff2565fcc77df">writeHDF5</a> (...)</td></tr>
<tr class="memdesc:ga2e66ccacdf2a0be58e9ff2565fcc77df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store array data in an HDF5 file.  <a href="#ga2e66ccacdf2a0be58e9ff2565fcc77df">More...</a><br/></td></tr>
<tr class="separator:ga2e66ccacdf2a0be58e9ff2565fcc77df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30942a3a78f5d0f0df6f5d39dafc0410"><td class="memTemplParams" colspan="2">template&lt;size_t N, class T , class C &gt; </td></tr>
<tr class="memitem:ga30942a3a78f5d0f0df6f5d39dafc0410"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__VigraHDF5Impex.html#ga30942a3a78f5d0f0df6f5d39dafc0410">writeHDF5Attr</a> (hid_t loc, const char *name, MultiArrayView&lt; N, T, C &gt; const &amp;array)</td></tr>
<tr class="separator:ga30942a3a78f5d0f0df6f5d39dafc0410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2302ebaf5025389b1e65925f2730fe01"><td class="memTemplParams" colspan="2">template&lt;size_t N, class C &gt; </td></tr>
<tr class="memitem:ga2302ebaf5025389b1e65925f2730fe01"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__VigraHDF5Impex.html#ga2302ebaf5025389b1e65925f2730fe01">writeHDF5Attr</a> (hid_t loc, const char *name, MultiArrayView&lt; N, std::string, C &gt; const &amp;array)</td></tr>
<tr class="separator:ga2302ebaf5025389b1e65925f2730fe01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa76a3015531eb06d7d5b223f0dd71d84"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:gaa76a3015531eb06d7d5b223f0dd71d84"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__VigraHDF5Impex.html#gaa76a3015531eb06d7d5b223f0dd71d84">writeHDF5Attr</a> (hid_t loc, const char *name, ArrayVectorView&lt; T &gt; &amp;array)</td></tr>
<tr class="separator:gaa76a3015531eb06d7d5b223f0dd71d84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac870449b451834c012ca7ffe4d282680"><td class="memTemplParams" colspan="2">template&lt;class Arr &gt; </td></tr>
<tr class="memitem:gac870449b451834c012ca7ffe4d282680"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__VigraHDF5Impex.html#gac870449b451834c012ca7ffe4d282680">writeHDF5Attr</a> (std::string filePath, std::string pathInFile, Arr &amp;ar)</td></tr>
<tr class="separator:gac870449b451834c012ca7ffe4d282680"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="_details" id="details"></a><h2 class="details_section">Detailed Description</h2>
<p>Supports arrays with arbitrary element types and arbitrary many dimensions. See the <a href="http://www.hdfgroup.org/HDF5/">HDF5 Website</a> for more information on the HDF5 file format. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga8ccb383ad5d24064f31fab265bc07439"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::readHDF5 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the data specified by the given <a class="el" href="classvigra_1_1HDF5ImportInfo.html">vigra::HDF5ImportInfo</a> object and write the into the given 'array'. </p>
<p>The array must have the correct number of dimensions and shape for the dataset represented by 'info'. When the element type of 'array' differs from the stored element type, HDF5 will convert the type on the fly (except when the HDF5 version is 1.6 or below, in which case an error will result). Multi-channel element types (i.e. <a class="el" href="classvigra_1_1RGBValue.html">vigra::RGBValue</a>, <a class="el" href="classvigra_1_1TinyVector.html">vigra::TinyVector</a>, and <a class="el" href="classvigra_1_1FFTWComplex.html">vigra::FFTWComplex</a>) are recognized and handled correctly.</p>
<p><b> Declaration:</b></p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N, <span class="keyword">class</span> T, <span class="keyword">class</span> Str<span class="keywordtype">id</span>eTag&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__VigraHDF5Impex.html#ga8ccb383ad5d24064f31fab265bc07439" title="Read the data specified by the given vigra::HDF5ImportInfo object and write the into the given &#39;array...">readHDF5</a>(<span class="keyword">const</span> HDF5ImportInfo &amp;info, MultiArrayView&lt;N, T, StrideTag&gt; array);</div>
<div class="line">}</div>
</div><!-- fragment --><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="hdf5impex_8hxx_source.html">vigra/hdf5impex.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">HDF5ImportInfo info(filename, dataset_name);</div>
<div class="line">vigra_precondition(info.numDimensions() == 3, <span class="stringliteral">&quot;Dataset must be 3-dimensional.&quot;</span>);</div>
<div class="line"></div>
<div class="line">MultiArrayShape&lt;3&gt;::type shape(info.shape().begin());</div>
<div class="line">MultiArray&lt;3, int&gt; array(shape);</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__VigraHDF5Impex.html#ga8ccb383ad5d24064f31fab265bc07439" title="Read the data specified by the given vigra::HDF5ImportInfo object and write the into the given &#39;array...">readHDF5</a>(info, array);</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga2e66ccacdf2a0be58e9ff2565fcc77df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::writeHDF5 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store array data in an HDF5 file. </p>
<p>The number of dimensions, shape and element type of the stored dataset is automatically determined from the properties of the given <em>array</em>. Strided arrays are stored in an unstrided way, i.e. in contiguous scan-order. Multi-channel element types (i.e. <a class="el" href="classvigra_1_1RGBValue.html">vigra::RGBValue</a>, <a class="el" href="classvigra_1_1TinyVector.html">vigra::TinyVector</a> and <a class="el" href="classvigra_1_1FFTWComplex.html">vigra::FFTWComplex</a>) are recognized and handled correctly (in particular, the will form the innermost dimension of the stored dataset). <em>pathInFile</em> may contain '/'-separated group names, but must end with the name of the dataset to be created.</p>
<p><b> Declaration:</b></p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>vigra {</div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N, <span class="keyword">class</span> T, <span class="keyword">class</span> Str<span class="keywordtype">id</span>eTag&gt;</div>
<div class="line">    <span class="keywordtype">void</span> </div>
<div class="line">    <a class="code" href="group__VigraHDF5Impex.html#ga2e66ccacdf2a0be58e9ff2565fcc77df" title="Store array data in an HDF5 file.">writeHDF5</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* filePath, <span class="keyword">const</span> <span class="keywordtype">char</span>* pathInFile, </div>
<div class="line">              MultiArrayView&lt;N, T, StrideTag&gt;<span class="keyword">const</span>  &amp; array);</div>
<div class="line">}</div>
</div><!-- fragment --><p><b> Usage:</b></p>
<p><b>#include</b> &lt;<a class="el" href="hdf5impex_8hxx_source.html">vigra/hdf5impex.hxx</a>&gt;<br/>
 Namespace: vigra</p>
<div class="fragment"><div class="line">MultiArrayShape&lt;3&gt;::type shape(100, 200, 20);</div>
<div class="line">MultiArray&lt;3, int&gt; array(shape);</div>
<div class="line">... <span class="comment">// fill array with data</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="group__VigraHDF5Impex.html#ga2e66ccacdf2a0be58e9ff2565fcc77df" title="Store array data in an HDF5 file.">writeHDF5</a>(<span class="stringliteral">&quot;mydata.h5&quot;</span>, <span class="stringliteral">&quot;/group1/my_dataset&quot;</span>, array);</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga30942a3a78f5d0f0df6f5d39dafc0410"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::writeHDF5Attr </td>
          <td>(</td>
          <td class="paramtype">hid_t&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MultiArrayView&lt; N, T, C &gt; const &amp;&#160;</td>
          <td class="paramname"><em>array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a numeric <a class="el" href="classvigra_1_1MultiArray.html" title="Main MultiArray class containing the memory management.">MultiArray</a> as an attribute with name <em>name</em> of the dataset specified by the handle <em>loc</em>.</p>
<p><b>#include</b> &lt;<a class="el" href="hdf5impex_8hxx_source.html">vigra/hdf5impex.hxx</a>&gt;<br/>
 Namespace: vigra </p>

</div>
</div>
<a class="anchor" id="ga2302ebaf5025389b1e65925f2730fe01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::writeHDF5Attr </td>
          <td>(</td>
          <td class="paramtype">hid_t&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MultiArrayView&lt; N, std::string, C &gt; const &amp;&#160;</td>
          <td class="paramname"><em>array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a string <a class="el" href="classvigra_1_1MultiArray.html" title="Main MultiArray class containing the memory management.">MultiArray</a> as an attribute with name <em>name</em> of the dataset specified by the handle <em>loc</em>.</p>
<p><b>#include</b> &lt;<a class="el" href="hdf5impex_8hxx_source.html">vigra/hdf5impex.hxx</a>&gt;<br/>
 Namespace: vigra </p>

</div>
</div>
<a class="anchor" id="gaa76a3015531eb06d7d5b223f0dd71d84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::writeHDF5Attr </td>
          <td>(</td>
          <td class="paramtype">hid_t&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArrayVectorView&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a numeric <a class="el" href="classvigra_1_1ArrayVectorView.html">ArrayVectorView</a> as an attribute with name <em>name</em> of the dataset specified by the handle <em>loc</em>.</p>
<p><b>#include</b> &lt;<a class="el" href="hdf5impex_8hxx_source.html">vigra/hdf5impex.hxx</a>&gt;<br/>
 Namespace: vigra </p>

</div>
</div>
<a class="anchor" id="gac870449b451834c012ca7ffe4d282680"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vigra::writeHDF5Attr </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>filePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>pathInFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Arr &amp;&#160;</td>
          <td class="paramname"><em>ar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>write an Attribute given a file and a path in the file. the path in the file should have the format [attribute] or /[subgroups/]dataset.attribute or /[subgroups/]group.attribute. The attribute is written to the root group, a dataset or a subgroup respectively </p>

</div>
</div>
</div><!-- contents -->
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
vigra 1.10.0 (Mon Nov 18 2013)
</i>
</tr>
</table>
</BODY>
</HTML>
