# @configure_input@
MAJOR_VERSION = @MAJOR_VERSION@
MINOR_VERSION = @MINOR_VERSION@
MICRO_VERSION = @MICRO_VERSION@
VIGRA_VERSION = @MAJOR_VERSION@.@MINOR_VERSION@.@MICRO_VERSION@

vigra_builddir = @vigra_builddir@
vigra_srcdir = @vigra_srcdir@
prefix = @prefix@
exec_prefix = @exec_prefix@
includedir = @includedir@
libdir = @libdir@
bindir = @bindir@
docdir = @docdir@

LIBS = @LIBS@
PNG_LIB = @PNG_LIB@
JPEG_LIB = @JPEG_LIB@
TIFF_LIB = @TIFF_LIB@
IMPEX_DEPLIBS = @IMPEX_DEPLIBS@
IMPEX_LIB = @IMPEX_LIB@
FFTW_LIB = @FFTW_LIB@
RFFTW_LIB = @RFFTW_LIB@
VIGRA_INCLUDES = @VIGRA_INCLUDES@
FFTW_INCLUDES = @FFTW_INCLUDES@

CC = @CC@
CFLAGS := @CFLAGS@
CXX = @CXX@
CXXFLAGS := @CXXFLAGS@
CPPFLAGS := @CPPFLAGS@
LIBCPPFLAGS := @LIBCPPFLAGS@

LIBTOOL = @LIBTOOL@
LIBCC = $(LIBTOOL) --mode=compile $(CC)
LIBCXX = $(LIBTOOL) --tag=CXX --mode=compile $(CXX)
LINKC = $(LIBTOOL) --mode=link $(CC)
LINKCXX = $(LIBTOOL) --tag=CXX --mode=link $(CXX)
LINKCLIB = $(LINKC) -rpath $(libdir)
LINKCXXLIB = $(LINKCXX) -rpath $(libdir)
LIBINSTALL = $(LIBTOOL) --mode=install @INSTALL@
INSTALL = @INSTALL@

DEVELOPMENT_VERSION = yes

%.o: %.c
	$(CC) $(CFLAGS) $(CPPFLAGS) -c $*.c

%.o: %.cxx
	$(CXX) $(CXXFLAGS) $(CPPFLAGS) -c $*.cxx

%.lo: %.c
	$(LIBCC) $(CFLAGS) $(CPPFLAGS) $(LIBCPPFLAGS) -c $*.c

%.lo: %.cxx
	$(LIBCXX) $(CXXFLAGS) $(CPPFLAGS) $(LIBCPPFLAGS) -c $*.cxx

%.d: %.c
	@echo updating header dependencies for $*.c
	@rm -f $*.d
	@$(CC) -M $(CFLAGS) $(CPPFLAGS) -c $*.c | sed "s@$*.o@$*.d $*.o@" > $*.d \
        || { rm -f $*.d; exit 1; }

%.d: %.cxx
	@echo updating header dependencies for $*.cxx
	@rm -f $*.d
	@$(CXX) -M $(CXXFLAGS) $(CPPFLAGS) -c $*.cxx | sed "s@$*.o@$*.d $*.o@" > $*.d \
        || { rm -f $*.d; exit 1; }

%.ld: %.c
	@echo updating header dependencies for $*.c
	@rm -f $*.ld
	@$(CC) -M $(CFLAGS) $(CPPFLAGS) -c $*.c | sed "s@$*.o@$*.ld $*.lo@" > $*.ld \
        || { rm -f $*.ld; exit 1; }

%.ld: %.cxx
	@echo updating header dependencies for $*.cxx
	@rm -f $*.ld
	@$(CXX) -M $(CXXFLAGS) $(CPPFLAGS) -c $*.cxx | sed "s@$*.o@$*.ld $*.lo@" > $*.ld \
        || { rm -f $*.ld; exit 1; }
