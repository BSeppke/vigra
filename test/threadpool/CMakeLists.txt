VIGRA_CONFIGURE_THREADING()

if(THREADING_IMPLEMENTATION MATCHES "std")
    VIGRA_ADD_TEST(test_threadpool test.cxx)
elseif(THREADING_IMPLEMENTATION MATCHES "boost")
    VIGRA_ADD_TEST(test_threadpool test.cxx LIBRARIES ${Boost_SYSTEM_LIBRARY} ${Boost_THREAD_LIBRARY})
else()
    MESSAGE(STATUS "** WARNING: No threading implementation found.")
    MESSAGE(STATUS "**          test_threadpool will not be executed on this platform.")
endif()
